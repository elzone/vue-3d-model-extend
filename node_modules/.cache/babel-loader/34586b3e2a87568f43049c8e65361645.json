{"remainingRequest":"/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/node_modules/babel-loader/lib/index.js!/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/node_modules/eslint-loader/index.js??ref--14-0!/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/src/util.js","dependencies":[{"path":"/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/src/util.js","mtime":1638514315000},{"path":"/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/babel.config.js","mtime":1638514315000},{"path":"/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZsb2F0MzItYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5hdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50MzItYXJyYXkuanMiOwppbXBvcnQgeyBCb3gzLCBWZWN0b3IzLCBWZWN0b3IyLCBCdWZmZXJBdHRyaWJ1dGUgfSBmcm9tICd0aHJlZSc7Ci8qIGVzbGludC1kaXNhYmxlICovCgp2YXIgYm94ID0gbmV3IEJveDMoKTsKCmZ1bmN0aW9uIGdldFNpemUob2JqZWN0KSB7CiAgYm94LnNldEZyb21PYmplY3Qob2JqZWN0KTsKICByZXR1cm4gYm94LmdldFNpemUobmV3IFZlY3RvcjMoKSk7Cn0KCmZ1bmN0aW9uIGdldENlbnRlcihvYmplY3QpIHsKICBib3guc2V0RnJvbU9iamVjdChvYmplY3QpOwogIHJldHVybiBib3guZ2V0Q2VudGVyKG5ldyBWZWN0b3IzKCkpOwp9IC8vIGZ1bmN0aW9uIGxpZ2h0c0RpZmYobGlnaHRzLCBvbGRMaWdodHMpIHsKLy8gfQoKCmZ1bmN0aW9uIHRvSW5kZXhlZChidWZmZXJHZW9tZXRyeSkgewogIHZhciByYXdQb3NpdGlvbnMgPSBidWZmZXJHZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJykuYXJyYXk7CiAgdmFyIHJhd1V2czsKICB2YXIgaGFzVVYgPSBidWZmZXJHZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3V2JykgIT09IHVuZGVmaW5lZDsKICBpZiAoaGFzVVYpIHJhd1V2cyA9IGJ1ZmZlckdlb21ldHJ5LmdldEF0dHJpYnV0ZSgndXYnKS5hcnJheTsKICB2YXIgcmF3Tm9ybWFsczsKICB2YXIgaGFzTm9ybWFsID0gYnVmZmVyR2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdub3JtYWwnKSAhPT0gdW5kZWZpbmVkOwogIGlmIChoYXNOb3JtYWwpIHJhd05vcm1hbHMgPSBidWZmZXJHZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ25vcm1hbCcpLmFycmF5OwogIHZhciBpbmRpY2VzID0gW107CiAgdmFyIHZlcnRpY2VzID0gW107CiAgdmFyIG5vcm1hbHMgPSBbXTsKICB2YXIgdXZzID0gW107CiAgdmFyIGZhY2U7CiAgdmFyIGZhY2VOb3JtYWxzczsKICB2YXIgZmFjZVV2czsKICB2YXIgdG1wSW5kaWNlczsKICB2YXIgdjAgPSBuZXcgVmVjdG9yMygpOwogIHZhciB2MSA9IG5ldyBWZWN0b3IzKCk7CiAgdmFyIHYyID0gbmV3IFZlY3RvcjMoKTsKICB2YXIgbjAgPSBuZXcgVmVjdG9yMygpOwogIHZhciBuMSA9IG5ldyBWZWN0b3IzKCk7CiAgdmFyIG4yID0gbmV3IFZlY3RvcjMoKTsKICB2YXIgdXYwID0gbmV3IFZlY3RvcjIoKTsKICB2YXIgdXYxID0gbmV3IFZlY3RvcjIoKTsKICB2YXIgdXYyID0gbmV3IFZlY3RvcjIoKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdQb3NpdGlvbnMubGVuZ3RoOyBpICs9IDkpIHsKICAgIHYwLnggPSByYXdQb3NpdGlvbnNbaV07CiAgICB2MC55ID0gcmF3UG9zaXRpb25zW2kgKyAxXTsKICAgIHYwLnogPSByYXdQb3NpdGlvbnNbaSArIDJdOwogICAgdjEueCA9IHJhd1Bvc2l0aW9uc1tpICsgM107CiAgICB2MS55ID0gcmF3UG9zaXRpb25zW2kgKyA0XTsKICAgIHYxLnogPSByYXdQb3NpdGlvbnNbaSArIDVdOwogICAgdjIueCA9IHJhd1Bvc2l0aW9uc1tpICsgNl07CiAgICB2Mi55ID0gcmF3UG9zaXRpb25zW2kgKyA3XTsKICAgIHYyLnogPSByYXdQb3NpdGlvbnNbaSArIDhdOwogICAgZmFjZSA9IFt2MCwgdjEsIHYyXTsKCiAgICBpZiAoaGFzTm9ybWFsKSB7CiAgICAgIG4wLnggPSByYXdOb3JtYWxzW2ldOwogICAgICBuMC55ID0gcmF3Tm9ybWFsc1tpICsgMV07CiAgICAgIG4wLnogPSByYXdOb3JtYWxzW2kgKyAyXTsKICAgICAgbjEueCA9IHJhd05vcm1hbHNbaSArIDNdOwogICAgICBuMS55ID0gcmF3Tm9ybWFsc1tpICsgNF07CiAgICAgIG4xLnogPSByYXdOb3JtYWxzW2kgKyA1XTsKICAgICAgbjIueCA9IHJhd05vcm1hbHNbaSArIDZdOwogICAgICBuMi55ID0gcmF3Tm9ybWFsc1tpICsgN107CiAgICAgIG4yLnogPSByYXdOb3JtYWxzW2kgKyA4XTsKICAgICAgZmFjZU5vcm1hbHNzID0gW24wLCBuMSwgbjJdOwogICAgfQoKICAgIGlmIChoYXNVVikgewogICAgICB1djAueCA9IHJhd1V2c1tpXTsKICAgICAgdXYwLnkgPSByYXdVdnNbaSArIDFdOwogICAgICB1djEueCA9IHJhd1V2c1tpICsgMl07CiAgICAgIHV2MS55ID0gcmF3VXZzW2kgKyAzXTsKICAgICAgdXYyLnggPSByYXdVdnNbaSArIDRdOwogICAgICB1djIueSA9IHJhd1V2c1tpICsgNV07CiAgICAgIGZhY2VVdnMgPSBbdXYwLCB1djEsIHV2Ml07CiAgICB9CgogICAgdG1wSW5kaWNlcyA9IFtdOwogICAgZmFjZS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpKSB7CiAgICAgIHZhciBpZCA9IGV4aXN0cyh2LCB2ZXJ0aWNlcyk7CgogICAgICBpZiAoaWQgPT09IC0xKSB7CiAgICAgICAgaWQgPSB2ZXJ0aWNlcy5sZW5ndGg7CiAgICAgICAgdmVydGljZXMucHVzaCh2LmNsb25lKCkpOwogICAgICAgIGlmIChoYXNOb3JtYWwpIG5vcm1hbHMucHVzaChmYWNlTm9ybWFsc3NbaV0uY2xvbmUoKSk7CiAgICAgICAgaWYgKGhhc1VWKSB1dnMucHVzaChmYWNlVXZzW2ldLmNsb25lKCkpOwogICAgICB9CgogICAgICB0bXBJbmRpY2VzLnB1c2goaWQpOwogICAgfSk7CiAgICBpbmRpY2VzLnB1c2godG1wSW5kaWNlc1swXSwgdG1wSW5kaWNlc1sxXSwgdG1wSW5kaWNlc1syXSk7CiAgfQoKICB2YXIgcG9zaXRpb25CdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzLmxlbmd0aCAqIDMpOwogIHZhciBub3JtYWxCdWZmZXI7CiAgdmFyIHV2QnVmZmVyOwogIGlmIChoYXNOb3JtYWwpIG5vcm1hbEJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMubGVuZ3RoICogMyk7CiAgaWYgKGhhc1VWKSB1dkJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMubGVuZ3RoICogMik7CiAgdmFyIGkyID0gMDsKICB2YXIgaTMgPSAwOwoKICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdmVydGljZXMubGVuZ3RoOyBfaSsrKSB7CiAgICBpMyA9IF9pICogMzsKICAgIHBvc2l0aW9uQnVmZmVyW2kzXSA9IHZlcnRpY2VzW19pXS54OwogICAgcG9zaXRpb25CdWZmZXJbaTMgKyAxXSA9IHZlcnRpY2VzW19pXS55OwogICAgcG9zaXRpb25CdWZmZXJbaTMgKyAyXSA9IHZlcnRpY2VzW19pXS56OwoKICAgIGlmIChoYXNOb3JtYWwpIHsKICAgICAgbm9ybWFsQnVmZmVyW2kzXSA9IG5vcm1hbHNbX2ldLng7CiAgICAgIG5vcm1hbEJ1ZmZlcltpMyArIDFdID0gbm9ybWFsc1tfaV0ueTsKICAgICAgbm9ybWFsQnVmZmVyW2kzICsgMl0gPSBub3JtYWxzW19pXS56OwogICAgfQoKICAgIGlmIChoYXNVVikgewogICAgICBpMiA9IF9pICogMjsKICAgICAgdXZCdWZmZXJbaTJdID0gdXZzW19pXS54OwogICAgICB1dkJ1ZmZlcltpMiArIDFdID0gdXZzW19pXS55OwogICAgfQogIH0KCiAgYnVmZmVyR2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBCdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25CdWZmZXIsIDMpKTsKICBpZiAoaGFzTm9ybWFsKSBidWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBCdWZmZXJBdHRyaWJ1dGUobm9ybWFsQnVmZmVyLCAzKSk7CiAgaWYgKGhhc1VWKSBidWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2JywgbmV3IEJ1ZmZlckF0dHJpYnV0ZSh1dkJ1ZmZlciwgMikpOwogIGJ1ZmZlckdlb21ldHJ5LnNldEluZGV4KG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IFVpbnQzMkFycmF5KGluZGljZXMpLCAxKSk7CiAgcmV0dXJuIGJ1ZmZlckdlb21ldHJ5OwoKICBmdW5jdGlvbiBleGlzdHModiwgdmVydGljZXMpIHsKICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHZlcnRpY2VzLmxlbmd0aDsgX2kyKyspIHsKICAgICAgaWYgKHYuZXF1YWxzKHZlcnRpY2VzW19pMl0pKSByZXR1cm4gX2kyOwogICAgfQoKICAgIHJldHVybiAtMTsKICB9Cn0KCmV4cG9ydCB7IGdldFNpemUsIGdldENlbnRlciwgdG9JbmRleGVkIH07"},{"version":3,"sources":["/Users/alex/Projects Sources/Elucidly/vue-3d-model-extend/src/util.js"],"names":["Box3","Vector3","Vector2","BufferAttribute","box","getSize","object","setFromObject","getCenter","toIndexed","bufferGeometry","rawPositions","getAttribute","array","rawUvs","hasUV","undefined","rawNormals","hasNormal","indices","vertices","normals","uvs","face","faceNormalss","faceUvs","tmpIndices","v0","v1","v2","n0","n1","n2","uv0","uv1","uv2","i","length","x","y","z","forEach","v","id","exists","push","clone","positionBuffer","Float32Array","normalBuffer","uvBuffer","i2","i3","addAttribute","setIndex","Uint32Array","equals"],"mappings":"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","sourcesContent":["import {\n  Box3, Vector3, Vector2, BufferAttribute,\n} from 'three';\n\n/* eslint-disable */\n\nconst box = new Box3();\n\nfunction getSize(object) {\n  box.setFromObject(object);\n\n  return box.getSize(new Vector3());\n}\n\nfunction getCenter(object) {\n  box.setFromObject(object);\n\n  return box.getCenter(new Vector3());\n}\n\n// function lightsDiff(lights, oldLights) {\n// }\n\nfunction toIndexed(bufferGeometry) {\n  const rawPositions = bufferGeometry.getAttribute('position').array;\n\n  let rawUvs;\n  const hasUV = bufferGeometry.getAttribute('uv') !== undefined;\n  if (hasUV) rawUvs = bufferGeometry.getAttribute('uv').array;\n\n  let rawNormals;\n  const hasNormal = bufferGeometry.getAttribute('normal') !== undefined;\n  if (hasNormal) rawNormals = bufferGeometry.getAttribute('normal').array;\n\n  const indices = [];\n  const vertices = [];\n  const normals = [];\n  const uvs = [];\n\n  let face; let faceNormalss; let faceUvs; let\n    tmpIndices;\n\n  const v0 = new Vector3();\n  const v1 = new Vector3();\n  const v2 = new Vector3();\n\n  const n0 = new Vector3();\n  const n1 = new Vector3();\n  const n2 = new Vector3();\n\n  const uv0 = new Vector2();\n  const uv1 = new Vector2();\n  const uv2 = new Vector2();\n\n  for (let i = 0; i < rawPositions.length; i += 9) {\n    v0.x = rawPositions[i];\n    v0.y = rawPositions[i + 1];\n    v0.z = rawPositions[i + 2];\n\n    v1.x = rawPositions[i + 3];\n    v1.y = rawPositions[i + 4];\n    v1.z = rawPositions[i + 5];\n\n    v2.x = rawPositions[i + 6];\n    v2.y = rawPositions[i + 7];\n    v2.z = rawPositions[i + 8];\n\n    face = [v0, v1, v2];\n\n    if (hasNormal) {\n      n0.x = rawNormals[i];\n      n0.y = rawNormals[i + 1];\n      n0.z = rawNormals[i + 2];\n\n      n1.x = rawNormals[i + 3];\n      n1.y = rawNormals[i + 4];\n      n1.z = rawNormals[i + 5];\n\n      n2.x = rawNormals[i + 6];\n      n2.y = rawNormals[i + 7];\n      n2.z = rawNormals[i + 8];\n\n      faceNormalss = [n0, n1, n2];\n    }\n\n    if (hasUV) {\n      uv0.x = rawUvs[i];\n      uv0.y = rawUvs[i + 1];\n\n      uv1.x = rawUvs[i + 2];\n      uv1.y = rawUvs[i + 3];\n\n      uv2.x = rawUvs[i + 4];\n      uv2.y = rawUvs[i + 5];\n\n      faceUvs = [uv0, uv1, uv2];\n    }\n\n    tmpIndices = [];\n\n    face.forEach((v, i) => {\n      let id = exists(v, vertices);\n      if (id === -1) {\n        id = vertices.length;\n        vertices.push(v.clone());\n\n        if (hasNormal) normals.push(faceNormalss[i].clone());\n        if (hasUV) uvs.push(faceUvs[i].clone());\n      }\n      tmpIndices.push(id);\n    });\n\n    indices.push(tmpIndices[0], tmpIndices[1], tmpIndices[2]);\n  }\n\n  const positionBuffer = new Float32Array(vertices.length * 3);\n\n  let normalBuffer; let\n    uvBuffer;\n\n  if (hasNormal) normalBuffer = new Float32Array(vertices.length * 3);\n  if (hasUV) uvBuffer = new Float32Array(vertices.length * 2);\n\n  let i2 = 0;\n  let i3 = 0;\n  for (let i = 0; i < vertices.length; i++) {\n    i3 = i * 3;\n\n    positionBuffer[i3] = vertices[i].x;\n    positionBuffer[i3 + 1] = vertices[i].y;\n    positionBuffer[i3 + 2] = vertices[i].z;\n\n    if (hasNormal) {\n      normalBuffer[i3] = normals[i].x;\n      normalBuffer[i3 + 1] = normals[i].y;\n      normalBuffer[i3 + 2] = normals[i].z;\n    }\n\n    if (hasUV) {\n      i2 = i * 2;\n      uvBuffer[i2] = uvs[i].x;\n      uvBuffer[i2 + 1] = uvs[i].y;\n    }\n  }\n\n  bufferGeometry.addAttribute('position', new BufferAttribute(positionBuffer, 3));\n  if (hasNormal) bufferGeometry.addAttribute('normal', new BufferAttribute(normalBuffer, 3));\n  if (hasUV) bufferGeometry.addAttribute('uv', new BufferAttribute(uvBuffer, 2));\n  bufferGeometry.setIndex(new BufferAttribute(new Uint32Array(indices), 1));\n  return bufferGeometry;\n\n  function exists(v, vertices) {\n    for (let i = 0; i < vertices.length; i++) {\n      if (v.equals(vertices[i])) return i;\n    }\n    return -1;\n  }\n}\n\nexport { getSize, getCenter, toIndexed };\n"]}]}